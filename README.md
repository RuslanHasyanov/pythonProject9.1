#Виджет банковских операций
Описание проекта:

Виджет, который показывает несколько последних успешных банковских операций клиента.

Установка и использование:

Установка

Клонируйте репозиторий:

git clone https://github.com/RuslanHasyanov/pythonProject9.1.git

Настройте виртуальное окружение.

Использование

На данный момент в проекте реализованы следующие функции:

Функция маскировки номера карты.

Пример:

print(get_mask_card_number(7000792289606361))

Выход функции: 7000 79** **** 6361

Функция маскировки номера счета.

Пример:

print(get_mask_account(73654108430135874305))

Выход функции: **4305

Функция, которая принимает тип и номер карты или счета и возвращает строку с замаскированным номером.

Пример:

print(mask_account_card("Maestro 1596837868705199")) print(mask_account_card("Счет 64686473678894779589"))

Выход функции: Maestro 1596 83** **** 5199 и Счет **9589 соответственно

Функция, которая принимает на вход строку с датой в формате "2024-03-11T02:26:18.671407" и возвращает строку с датой в формате "ДД.ММ.ГГГГ" ("11.03.2024").

Пример:

print(get_date("2024-03-11T02:26:18.671407"))

Выход функции: 11.03.2024

Функция, которая принимает на вход список словарей с данными о банковских операциях и параметр state. Функция возвращает новый список, содержащий только те словари, у которых ключ state содержит переданное в функцию значение.

Пример:

print( filter_by_state( [ {"id": 41428829, "state": "EXECUTED", "date": "2019-07-03T18:35:29.512364"}, {"id": 939719570, "state": "EXECUTED", "date": "2018-06-30T02:08:58.425572"}, {"id": 594226727, "state": "CANCELED", "date": "2018-09-12T21:27:25.241689"}, {"id": 615064591, "state": "CANCELED", "date": "2018-10-14T08:21:33.419441"}, ] ) )

Выход функции со статусом по умолчанию 'EXECUTED':

[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

Функция, которая принимает на вход список словарей и параметр порядка сортировки. Функция возвращает новый список, в котором исходные словари отсортированы по дате.

Пример:

print( sort_by_date( [ {"id": 41428829, "state": "EXECUTED", "date": "2019-07-03T18:35:29.512364"}, {"id": 939719570, "state": "EXECUTED", "date": "2018-06-30T02:08:58.425572"}, {"id": 594226727, "state": "CANCELED", "date": "2018-09-12T21:27:25.241689"}, {"id": 615064591, "state": "CANCELED", "date": "2018-10-14T08:21:33.419441"}, ] ) )

Выход функции:

[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

Функция, которая принимает на вход список словарей, представляющих транзакции. Функция возвращает итератор, который поочередно выдает транзакции, где валюта операции соответствует заданной (например, USD).

Пример:

usd_transactions = filter_by_currency(transactions, "USD") for _ in range(2): print(next(usd_transactions))

Выход функции:

{ "id": 939719570, "state": "EXECUTED", "date": "2018-06-30T02:08:58.425572", "operationAmount": { "amount": "9824.07", "currency": { "name": "USD", "code": "USD" } }, "description": "Перевод организации", "from": "Счет 75106830613657916952", "to": "Счет 11776614605963066702" } { "id": 142264268, "state": "EXECUTED", "date": "2019-04-04T23:20:05.206878", "operationAmount": { "amount": "79114.93", "currency": { "name": "USD", "code": "USD" } }, "description": "Перевод со счета на счет", "from": "Счет 19708645243227258542", "to": "Счет 75651667383060284188" }

Функция-генератор, который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.

Пример

descriptions = transaction_descriptions(transactions) for _ in range(5): print(next(descriptions))

Выход функции: Перевод организации Перевод со счета на счет Перевод со счета на счет Перевод с карты на карту Перевод организации

Функция-генератор, который выдает номера банковских карт в формате XXXX XXXX XXXX XXXX , где X — цифра номера карты. Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.

Пример

for card_number in card_number_generator(1, 5): print(card_number)

Выход функции:

0000 0000 0000 0001 0000 0000 0000 0002 0000 0000 0000 0003 0000 0000 0000 0004 0000 0000 0000 0005

Декоратор, который автоматически логирует начало и конец выполнения функции, а также ее результаты или возникшие ошибки. Декоратор принимает необязательный аргумент filename, который определяет, куда будут записываться логи (в файл или в консоль).

Пример

@log(filename=None) def example_function(): """Тестовая функция""" raise ValueError()

Выход функции:

Функция: example_function Тип ошибки: ValueError Входные параметры: (), {}

Тестирование

Проект покрыт юнит-тестами. Для их запуска выполните следующее:

Установите pytest через Poetry poetry add --group dev pytest

Запустите тесты с помощью команды pytest в терминале

